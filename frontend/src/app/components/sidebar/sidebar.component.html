<div class="sidebar">
  <div class="sidebar-header">
    <h2>LLM Agent</h2>
  </div>

  <mat-nav-list class="sidebar-nav">
    <div *ngFor="let item of menuItems" class="nav-item">
      <!-- Parent item -->
      <a mat-list-item 
         [routerLink]="item.route"
         routerLinkActive="active"
         [routerLinkActiveOptions]="{exact: item.route === '/'}"
         class="nav-link"
         (click)="item.children.length > 0 ? toggleExpanded(item.label) : null">
        <mat-icon matListItemIcon>{{ item.icon }}</mat-icon>
        <span matListItemTitle>{{ item.label }}</span>
        <mat-icon *ngIf="item.children.length > 0" 
                  class="expand-icon"
                  [class.expanded]="isExpanded(item.label)">
          expand_more
        </mat-icon>
      </a>

      <!-- Children items -->
      <div class="children-container" 
           [class.expanded]="isExpanded(item.label)"
           *ngIf="item.children.length > 0">
        <a *ngFor="let child of item.children"
           mat-list-item
           [routerLink]="child.route"
           routerLinkActive="active"
           class="nav-link child-link">
          <mat-icon matListItemIcon>{{ child.icon }}</mat-icon>
          <span matListItemTitle>{{ child.label }}</span>
        </a>
      </div>
    </div>
  </mat-nav-list>
</div>
